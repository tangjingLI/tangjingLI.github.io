---
layout: post
title:  "进程通信"
date:   2020-11-27 11:22:36 +0800
tags: OS
subtitle: '进程的不同通信方式 ~'
---

#### 进程通信IPC的几种方式

- <b>管道</b>

<font size=2>&emsp;&emsp;管道是一种半双工的单向通信方式，数据只能单向流动，分为匿名管道和命名管道。匿名管道只允许具有亲缘关系的进程间进行通信，这里的亲缘关系通常是指父子关系，通常，父程序打开匿名管道，并创建一个新的进程继承管道的另一端，或创建若干新的流程并安排他们在一个管道。而命名管道则允许非亲缘关系的进程间进行通信。</font>

- <b>信号</b>

<font size=2>&emsp;&emsp;信号是在软件层次上对中断机制的一种模拟，是进程间通信机制中唯一的异步通信机制，借助于信号处理器实现，用于通知接收进程某个事件已经发生。</font>

- <b>信号量</b>

<font size=2>&emsp;&emsp;信号量是具有原子性的计数器，本质是数据操作锁，它本身不具有数据交换的功能，而是通过控制其他的通信资源来实现进程间通信，可以用来控制多个进程对共享资源的访问，确保一个进程正在访问共享资源时，其他进程不能访问该资源。因此，信号量主要负责进程间以及同一进程内不同线程之间的同步和互斥。<br>
&emsp;&emsp;当进程要访问临界资源时，必须要向信号量拿个"锁"，它才能进去临界资源这个"房间"，并锁上门，不让其他进程进来，此时信号量执行P()操作，锁的数目减少了一个，所以计数器减 1 ,当它访问完成时，它出来将锁还给信号量，执行V()操作，计数器加 1 。</font>

- <b>消息队列MQ</b>

<font size=2>&emsp;&emsp;消息队列提供了一种从一个进程向另一个进程发送数据块的方法，接收进程可以独立地接收不同类型的数据结构。消息发布者只管把消息发布到MQ中而不管谁来取，消息使用者只管从MQ中取消息而不管谁发布的，这样发布者和使用者都不用知道对方的存在。通常在异步处理，应用解耦，流量削锋和消息通讯四个场景下使用消息队列。</font>

- <b>共享内存</b>

<font size=2>&emsp;&emsp;进程A通过操作系统提供的API从内存中申请一块共享区域，然后把这块共享内存映射到需要进行通信的进程中，此时进程间可以利用这块共享内存进行数据交换，在通信完成后撤销映射操作并删除共享内存区，共享内存是最快的 IPC 方式。</font>

- <b>套接字</b>

<font size=2>&emsp;&emsp;套接字（Socket）= IP地址 + 端口号（Port Number）<br>&emsp;&emsp;首先，基于IP协议，通过IP地址找到目标计算机，然后通过端口号（Port Number）确认目标进程所用的端口，进而实现通信。</font>